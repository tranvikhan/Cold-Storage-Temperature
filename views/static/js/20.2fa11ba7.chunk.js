(this.webpackJsonpwarehouse=this.webpackJsonpwarehouse||[]).push([[20],{142:function(e,t,a){"use strict";var n=a(47),i=a(48),c=a(49),r=a(50),s=a(2),l=a.n(s),o=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"preloader"},l.a.createElement("div",{className:"status"},l.a.createElement("div",{className:"spinner-border avatar-sm text-primary m-2",role:"status"})))}}]),a}(s.Component);t.a=o},150:function(e,t,a){"use strict";var n=a(10),i=a(21),c=a(2),r=a.n(c),s=a(5),l=a.n(s),o=a(139),u=a.n(o),m=a(140),d={tag:m.tagPropType,fluid:l.a.oneOfType([l.a.bool,l.a.string]),className:l.a.string,cssModule:l.a.object},h=function(e){var t=e.className,a=e.cssModule,c=e.fluid,s=e.tag,l=Object(i.a)(e,["className","cssModule","fluid","tag"]),o="container";!0===c?o="container-fluid":c&&(o="container-"+c);var d=Object(m.mapToCssModules)(u()(t,o),a);return r.a.createElement(s,Object(n.a)({},l,{className:d}))};h.propTypes=d,h.defaultProps={tag:"div"},t.a=h},385:function(e,t,a){e.exports=a.p+"static/media/CPU1.22674517.svg"},591:function(e,t,a){e.exports=a.p+"static/media/CPU3.da6aa7ec.svg"},592:function(e,t,a){},593:function(e,t,a){},648:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(143),c=a(2),r=a.n(c),s=a(276),l=a(277),o=a(275),u=a(220),m=a(221),d=a(223),h=a(224),f=a(267),p=a(268),g=a(269),b=a(279),y=a(280),E=a(281),v=a(403),x=a(344),N=a(343),z=a(139),w=a.n(z),O=a(278),k=a(385),S=a.n(k),j=function(e){return r.a.createElement(O.a,{className:"mt-1 border-top pt-2"},r.a.createElement("img",{src:S.a,className:"avatar rounded mr-3",alt:""}),r.a.createElement(O.a,{left:!0},r.a.createElement("h6",{className:"mt-1 mb-0 font-size-15"},e.name),r.a.createElement("h6",{className:"text-muted font-weight-normal mt-1"},Math.round(100*e.value)/100+" ",r.a.createElement("i",{className:"uil uil-celsius"}))),r.a.createElement(O.a,{body:!0}),r.a.createElement("span",{className:w()(function(){switch(e.status){case"\u0110ang ch\u1ea1y":return"badge badge-soft-success";case"\u0110ang t\u1eaft":return"badge badge-soft-danger";case"\u0110\xe3 th\xeam v\xe0o kho":return"badge badge-soft-warning";default:return"badge badge-soft-primary"}}(),"py-1 px-1 align-self-center mr-2")},e.status),r.a.createElement("div",{className:"align-self-center float-right"},r.a.createElement("button",{tag:"button",className:"btn btn-link p-0 dropdown-toggle text-muted",onClick:function(){e.EditInfoSensor(e.id)}},r.a.createElement("i",{className:"uil uil-ellipsis-v"}))))},C=a(287),R=a.n(C),M=a(182),T=a.n(M),A=a(181),I=a.n(A),D=a(184),L=a(142),U=a(404),F=a(364),_=a(365),P=a(368),V=a(366),G=a(591),H=a.n(G),W=a(40),B=a(29),J=function(e){var t=r.a.useState(null),a=Object(i.a)(t,2),c=a[0],s=a[1],o=r.a.useState(null),d=Object(i.a)(o,2),h=d[0],f=d[1],p=Object(W.c)(),g=Object(W.d)((function(e){return e.RoomList.currentRoomInfo})),b=Object(W.d)((function(e){return e.Auth.user}));r.a.useEffect((function(){if(e.config.show){var t=e.structure.find((function(t){return t.location.x==e.config.x&&t.location.y==e.config.y&&t.location.z==e.z}));if(t){var a=y(e.sensors&&e.sensors.find((function(e){return e._id===t.sensor._id})));console.log(t,a),s(a),f(a)}else s(null),f(null)}else s(null),f(null)}),[e.config,e.structure,e.z,e.sensors.length]);var y=function(e){return e&&{id:e._id,isUsed:"RUNNING"===e.status||"USSING"===e.status,value:e.name+" "+e.datatype_id,label:r.a.createElement(O.a,{className:"pt-1"},r.a.createElement("img",{src:"RUNNING"===e.status||"USSING"===e.status?H.a:S.a,className:"avatar rounded mr-2",alt:""}),r.a.createElement(O.a,{body:!0},r.a.createElement("h6",{className:"mt-1 mb-0 font-size-15"},e.name),r.a.createElement("h6",{className:"text-muted font-weight-normal mt-1"},e.datatype_id)))}};return r.a.createElement(U.a,{isOpen:e.config.show,toggle:e.toggle},e.loading&&r.a.createElement(L.a,null),r.a.createElement(R.a,null,r.a.createElement(F.a,null,"Th\xf4ng tin v\u1ecb tr\xed"),r.a.createElement(_.a,{className:"px-3"},r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(P.a,{for:"vitri"},"T\u1ecda \u0111\u1ed9"),r.a.createElement(T.a,{id:"vitri"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{class:"input-group-prepend text-danger"},r.a.createElement("span",{class:"input-group-text text-danger font-weight-bold"},"X")),r.a.createElement(I.a,{name:"x",disabled:!0,value:0==e.config.x?"0":e.config.x}))),r.a.createElement(T.a,null,r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{class:"input-group-prepend text-danger"},r.a.createElement("span",{class:"input-group-text text-success font-weight-bold"},"Y")),r.a.createElement(I.a,{name:"y",disabled:!0,value:0==e.config.y?"0":e.config.y}))),r.a.createElement(T.a,null,r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{class:"input-group-prepend text-danger"},r.a.createElement("span",{class:"input-group-text text-primary font-weight-bold"},"Z")),r.a.createElement(I.a,{name:"z",disabled:!0,value:0==e.z?"0":e.z})))),r.a.createElement(m.a,null,r.a.createElement(P.a,{for:"khoangchach"},"Kho\u1ea3ng c\xe1ch \u0111\u1ebfn tr\u1ee5c"),r.a.createElement(T.a,{id:"khoangchach"},r.a.createElement("div",{className:"input-group"},r.a.createElement(I.a,{disabled:!0,name:"dx",value:0==e.config.x?"0 - "+(e.config.x+1)*e.d:e.config.x*e.d+" - "+(e.config.x+1)*e.d}),r.a.createElement(l.a,{addonType:"append"},"cm"))),r.a.createElement(T.a,null,r.a.createElement("div",{className:"input-group"},r.a.createElement(I.a,{disabled:!0,name:"dy",value:0==e.config.y?"0 - "+(e.config.y+1)*e.d:e.config.y*e.d+" - "+(e.config.y+1)*e.d}),r.a.createElement(l.a,{addonType:"append"},"cm"))),r.a.createElement(T.a,null,r.a.createElement("div",{className:"input-group"},r.a.createElement(I.a,{disabled:!0,name:"dz",value:0==e.z?"0 - "+(e.z+1)*e.d:e.z*e.d+" - "+(e.z+1)*e.d}),r.a.createElement(l.a,{addonType:"append"},"cm"))))),r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(P.a,{for:"choncambien"},"Ch\u1ecdn c\u1ea3m bi\u1ebfn"),r.a.createElement(D.a,{height:100,id:"choncambien",className:"react-select",classNamePrefix:"react-select",value:c,onChange:function(e){s(e)},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e&&e.map((function(e){return y(e)}))}(e.sensors),styles:{control:function(e){return Object(n.a)(Object(n.a)({},e),{},{height:70,minHeight:70})},valueContainer:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{height:"70px",padding:"5px 5px"})}}})))),r.a.createElement(V.a,{className:"text-right"},h&&h.id===c.id&&r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){c&&(p(Object(B.C)(b,g._id,c.id)),e.setSubmitting(!0))}},r.a.createElement("i",{className:"uil uil-trash-alt mr-1"}," "),"G\u1ee1 c\u1ea3m bi\xean"),(h&&c&&h.id!==c.id||!h&&c&&c.isUsed)&&r.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:function(){if(console.log(h,c),!h&&c&&c.isUsed)return p(Object(B.Eb)(b,g._id,c.id,{x:e.config.x,y:e.config.y,z:e.z})),void e.setSubmitting(!0);if(h&&c&&!c.isUsed){var t=h.id,a=c.id;return p(Object(B.C)(b,g._id,t)),e.setBackAction(Object(B.i)(b,g._id,a,{x:e.config.x,y:e.config.y,z:e.z})),void e.setSubmitting(!0)}return h&&c&&c.isUsed?(p(Object(B.C)(b,g._id,h.id)),e.setBackAction(Object(B.Eb)(b,g._id,c.id,{x:e.config.x,y:e.config.y,z:e.z})),void e.setSubmitting(!0)):void 0}},r.a.createElement("i",{className:"uil uil-wrench mr-1"}," "),"\u0110\u1ed5i c\u1ea3m bi\u1ebfn"),!h&&c&&!c.isUsed&&r.a.createElement("button",{type:"button",onClick:function(){c&&(c.isUsed||(p(Object(B.i)(b,g._id,c.id,{x:e.config.x,y:e.config.y,z:e.z})),e.setSubmitting(!0)))},className:"btn btn-success"},r.a.createElement("i",{className:"uil uil-plus mr-1 mr-1"}," "),"Th\xeam c\u1ea3m bi\u1ebfn"))))},Y=a(242),X=(a(238),a(47)),Z=a(48),q=(a(592),function(){function e(){Object(X.a)(this,e),this.colorMap=["#CCCCCC","#00A100","#FFAA00","#DC0404"],this.xRuler=document.createElement("p"),this.yRuler=document.createElement("p")}return Object(Z.a)(e,[{key:"setProps",value:function(e){this.data=e.data,this.min=e.min,this.max=e.max,this.width=this.data[0].length,this.height=this.data.length,this.onClick=e.onClick,this.config=e.config}},{key:"setAxis",value:function(e){this.axis=e}},{key:"createElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=document.createElement(e);return Object.assign(a,t),a}},{key:"createEmptyElement",value:function(){return this.createElement("p")}},{key:"makeRow",value:function(e,t){for(var a=this,n=this.data,i=this.width,c=this.createElement("tr"),r=function(t){var i=n[e][t],r=a.colorMap[i];c.appendChild(a.createElement("td",{onclick:function(){return a.onClick(t,e,r,i)},onmouseenter:function(){return a.onMouseEnter(t,e)},onmouseout:function(){return a.onMouseOut(t,e)},style:"background: ".concat(r),className:"cell"}))},s=0;s<i;s++)r(s);t.appendChild(c)}},{key:"makeTable",value:function(e){for(var t=this.createElement("table",{className:"text-center"}),a=this.height-1;a>=0;a--)this.makeRow(a,t);e.innerHTML="",e.appendChild(t),e.appendChild(this.xRuler),e.appendChild(this.yRuler),this.xRuler.className=this.yRuler.className="label"}},{key:"onMouseEnter",value:function(e,t){var a={x:{f:"y",s:"z"},y:{f:"z",s:"x"},z:{f:"y",s:"x"}};this.xRuler.innerHTML="<strong>".concat(a[this.axis].s,"</strong>: ")+e,this.yRuler.innerHTML="<strong>".concat(a[this.axis].f,"</strong>: ")+t}},{key:"onMouseOut",value:function(e,t){}},{key:"handleRuler",value:function(e,t){this.xRuler.style=this.yRuler.style="display;";var a=e.getBoundingClientRect(),n=t.clientX-a.left-this.xRuler.clientWidth/2,i=t.clientY-a.top-this.yRuler.offsetHeight/2;this.xRuler.style="background: #afa;\n            left: ".concat(n,"px;\n            top: ").concat(e.offsetHeight,"px;"),this.yRuler.style="background: #faa;\n            left: ".concat(e.offsetWidth,"px;\n            top: ").concat(i,"px;")}},{key:"removeRuler",value:function(){this.xRuler.style.display=this.yRuler.style.display="none"}},{key:"initData",value:function(e){return{values:new Array(e.x).fill(0).map((function(t){return new Array(e.y).fill(0).map((function(t){return new Array(e.z).fill(0).map((function(e){return 0}))}))})),min:0,max:0}}}]),e}()),K=function(e){var t=Object(c.useState)(document.createElement("p")),a=Object(i.a)(t,2),n=a[0],s=a[1],l=new q;return Object(c.useEffect)((function(){l.setProps(e),l.setAxis(e.axis),l.makeTable(n);var t=n.parentElement||n,a=t.offsetWidth<t.offsetHeight?t.offsetWidth:t.offsetHeight,i=l.width,c=l.height;Object.assign(n.style,{width:"".concat(a/c*i,"px"),height:"".concat(a,"px")})}),[n,e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{style:{display:"inline-block",margin:"6px",color:l.colorMap[0]}},"Tr\u1ed1ng"),r.a.createElement("div",{style:{display:"inline-block",margin:"6px",color:l.colorMap[1]}},"\u0110ang ch\u1ea1y"),r.a.createElement("div",{style:{display:"inline-block",margin:"6px",color:l.colorMap[3]}},"C\u1ea7n thi\u1ebft")),r.a.createElement("div",{className:"editSensorMapView block h-100",style:{width:"inherit"}},r.a.createElement("div",{ref:function(e){return s(e)},className:"matrixContainer w-100",onMouseOver:function(e){return l.handleRuler(n,e)},onMouseOut:function(){return l.removeRuler()}})))};K.defaultProps={data:[[]],axis:"z",min:0,max:0,onClick:function(e,t,a,n){console.log(e,t,a,n)}};a(593);var Q=a(191),$=a(236),ee=a.n($),te=function(){function e(t){Object(X.a)(this,e),this.container=t,this.tileSize=20}return Object(Z.a)(e,[{key:"setConfig",value:function(e){this.config=e}},{key:"setData",value:function(e){var t=this;this.data=e;var a=this.config.size,n=this.config.sensorDensity,i=a.x/n-1,c=a.y/n-1,r=a.z/n-1,s=[0,0,0,0,0,0,0,0];e.forEach((function(e){0===e.x&&0===e.y&&0===e.z&&(s[0]+=1),0===e.x&&0===e.y&&e.z===r&&(s[1]+=1),0===e.x&&e.y===c&&0===e.z&&(s[2]+=1),0===e.x&&e.y===c&&e.z===r&&(s[3]+=1),e.x===i&&0===e.y&&0===e.z&&(s[4]+=1),e.x===i&&0===e.y&&e.z===r&&(s[5]+=1),e.x===i&&e.y===c&&0===e.z&&(s[6]+=1),e.x===i&&e.y===c&&e.z===r&&(s[7]+=1)})),s.forEach((function(e,a){var n,s;0===e&&t.data.push((n=a<4?0:i,s=Math.trunc(a/2)%2===0?0:c,{datatype_id:"",x:n,y:s,z:a%2===0?0:r,status:"IMPORTANT"}))}))}},{key:"setTileColor",value:function(e,t,a){var n=this.data.min,i=(240-240*(a-n)/(this.data.max-n))/360,c=this.cubeFrame.children[e].geometry.faces;c[2*t].color.setHSL(i,1,.5),c[2*t+1].color.setHSL(i,1,.5)}},{key:"initWorld",value:function(){var e=new Q.Scene;e.background=new Q.Color("#f5f5f5");var t=new Q.PerspectiveCamera(60,this.container.clientWidth/this.container.clientHeight);t.up.set(0,0,1),t.position.set(1350,1350,1350);var a=new Q.WebGLRenderer;a.setSize(this.container.clientWidth,this.container.clientHeight);var n=new ee.a(t,a.domElement);n.enableDamping=!0,n.dampingFactor=.05,n.screenSpacePanning=!1,n.minDistance=100,n.maxDistance=1900,n.maxPolarAngle=Math.PI,n.rotateSpeed=.5;var i=new Q.AxesHelper(1500);e.add(i);!function i(){requestAnimationFrame(i),n.update(),a.render(e,t)}(),this.scene=e,this.camera=t,this.controls=n,this.renderer=a,this.axesHelper=i,this.container.innerHTML="",this.container.appendChild(a.domElement)}},{key:"makeDoor",value:function(){var e=this.config.door,t=this.config.sensorDensity;if(e.show&&this.scene){var a=this.config.size,n={x:a.x*this.tileSize/t,y:a.y*this.tileSize/t,z:a.z*this.tileSize/t,e:20*this.tileSize},i={A:{x0:n.x/2,y0:-n.e,z0:n.z/2,x1:n.x/2,y1:n.y,z1:n.z/2},B:{x0:n.x/2,y0:n.y+n.e,z0:n.z/2,x1:n.x/2,y1:n.y,z1:n.z/2},C:{x0:-n.e,y0:n.y/2,z0:n.z/2,x1:n.x,y1:n.y/2,z1:n.z/2},D:{x0:n.x+n.e,y0:n.y/2,z0:n.z/2,x1:n.x,y1:n.y/2,z1:n.z/2}}[e.direction],c=new Q.Vector3(i.x1-i.x0,i.y1-i.y0,i.z1-i.z0),r=new Q.Vector3(i.x0,i.y0,i.z0),s=8*this.tileSize,l=2*this.tileSize,o=1*this.tileSize,u=new Q.ArrowHelper(c.normalize(),r,s,0,l,o);u.up.set(0,0,1),this.scene.add(u)}}},{key:"makeWireFrame",value:function(){var e=new Q.LineBasicMaterial({color:0,linewidth:2}),t=this.config.sensorDensity,a=this.config.size,n=a.x*this.tileSize/t,i=a.y*this.tileSize/t,c=a.z*this.tileSize/t,r=[];r.push(new Q.Vector3(0,0,0)),r.push(new Q.Vector3(n,0,0)),r.push(new Q.Vector3(n,i,0)),r.push(new Q.Vector3(0,i,0)),r.push(new Q.Vector3(0,0,0)),r.push(new Q.Vector3(0,0,c)),r.push(new Q.Vector3(n,0,c)),r.push(new Q.Vector3(n,i,c)),r.push(new Q.Vector3(0,i,c)),r.push(new Q.Vector3(0,0,c));var s=(new Q.BufferGeometry).setFromPoints(r);(r=[]).push(new Q.Vector3(n,0,0)),r.push(new Q.Vector3(n,0,c)),r.push(new Q.Vector3(n,i,c)),r.push(new Q.Vector3(n,i,0)),r.push(new Q.Vector3(0,i,0)),r.push(new Q.Vector3(0,i,c));var l=(new Q.BufferGeometry).setFromPoints(r),o=new Q.Line(s,e);this.scene.add(o);var u=new Q.Line(l,e);this.scene.add(u),this.controls.target.set(n/2,i/2,c/2)}},{key:"writeNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this.tileSize,c=document.createElement("canvas"),r=c.getContext("2d");c.height=2*i,c.width=4*i,r.font="Bold "+2*i+"px Roboto",r.fillStyle="#7F007F",r.textAlign="center",r.fillText(e,2*i,1.5*i);var s=new Q.Texture(c);s.needsUpdate=!0;var l=new Q.SpriteMaterial({map:s});l.depthTest=!1;var o=new Q.Sprite(l);o.scale.set(2*i,i,i),o.position.set((t+.5)*i,(a+.5)*i,(n+.5)*i),this.scene.add(o)}},{key:"makeCubes",value:function(){var e=this;this.data&&this.data.forEach((function(t){e.scene.add(e.cube(t.x,t.y,t.z,t.status)),""!==t.datatype_id&&e.writeNumber(t.datatype_id,t.x,t.y,t.z)}))}},{key:"cube",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"RUNNING",i={EMPTY:"#CCCCCC",RUNNING:"#28a745",ON:"#5369f8",USSING:"#ffc107",IMPORTANT:"#DC0404"},c=new Q.BoxGeometry(this.tileSize,this.tileSize,this.tileSize),r=new Q.MeshBasicMaterial({color:i[n]}),s=new Q.Mesh(c,r);return s.position.x=e*this.tileSize+this.tileSize/2,s.position.y=t*this.tileSize+this.tileSize/2,s.position.z=a*this.tileSize+this.tileSize/2,s}}]),e}(),ae=function(e){var t=Object(c.useRef)(),a=Object(c.useRef)();return Object(c.useEffect)((function(){a.current=new te(t.current)}),[]),Object(c.useEffect)((function(){a.current.setConfig(e.config),a.current.setData(e.data),a.current.initWorld(),a.current.makeDoor(),a.current.makeWireFrame(),a.current.makeCubes()}),[e.config,e.data]),r.a.createElement("div",{className:"chartContainer",style:{width:"inherit",height:"inherit"},ref:function(e){t.current=e}})};ae.defaultProps={config:{size:{x:0,y:0,z:0},door:{show:!1,direction:"A"},sensorDensity:1},data:[]};var ne=ae,ie=Y.a.createSliderWithTooltip(Y.a),ce=function(e){var t=e.min?e.min:0,a=e.max?e.max:10;return r.a.createElement("div",{className:"mt-3 block p-3"},r.a.createElement(s.a,{className:"col-12 mb-3 mt-5 row p-0 mr-0 ml-0"},r.a.createElement(l.a,{addonType:"prepend"},"T\u1ecda \u0111\u1ed9 Z"),r.a.createElement("div",{className:"form-control col-11 pt-2"},r.a.createElement(ie,{step:1,dots:!0,className:"mt-1",min:t,max:a,value:e.value,onChange:e.onChange})),r.a.createElement(o.a,{className:"col-1",type:"number",value:e.value,onChange:function(n){var i=n.target.value,c=i>=t&&i<=a?i:i<t?a:t;e.onChange(c)}})))};ce.defaultProps={onChange:function(e){}};var re=[[]];t.default=function(){var e=r.a.useState(450),t=Object(i.a)(e,2),a=(t[0],t[1],r.a.useState(0)),c=Object(i.a)(a,2),s=c[0],l=c[1],o=r.a.useState(re),z=Object(i.a)(o,2),O=z[0],k=z[1],S=r.a.useState("ALL"),C=Object(i.a)(S,2),R=C[0],M=C[1],T=Object(W.d)((function(e){return e.RoomList.currentRoomInfo})),A=Object(W.d)((function(e){return e.Auth.user})),I=Object(W.d)((function(e){return e.RoomData.sensorData})),D=Object(W.d)((function(e){return e.RoomData.currentData})),L=Object(W.d)((function(e){return e.RoomStructrure.structure})),U=Object(W.d)((function(e){return e.RoomStructrure.loading})),F=Object(W.d)((function(e){return e.RoomStructrure.error})),_=Object(W.c)(),P=r.a.useState("1"),V=Object(i.a)(P,2),G=V[0],H=V[1],Y=r.a.useState({x:0,y:0,z:0,d:10,show:!1}),X=Object(i.a)(Y,2),Z=X[0],q=X[1],Q=r.a.useState(0),$=Object(i.a)(Q,2),ee=$[0],te=$[1],ae={ALL:"T\u1ea5t c\u1ea3",RUNNING:"\u0110ang ch\u1ea1y",ON:"\u0110ang b\u1eadt",OFF:"\u0110ang t\u1eaft",USSING:"\u0110\xe3 th\xeam v\xe0o kho"};r.a.useEffect((function(){if(T){var e=T.size,t=e.x,a=e.y,n=e.z,i=T.sensorDensity;t=Math.trunc(t/i),a=Math.trunc(a/i),n=Math.trunc(n/i),te(n-1);var c=new Array(a).fill(0).map((function(e){return new Array(t).fill(0)}));0!==parseInt(s)&&parseInt(s)!==n-1||(c[0][0]=3,c[0][t-1]=3,c[a-1][0]=3,c[a-1][t-1]=3),(L&&L.map.map?L.map:[]).forEach((function(e){parseInt(e.location.z)===parseInt(s)&&(c[e.location.y][e.location.x]=1)})),k(c)}}),[s,T,L]),r.a.useEffect((function(){L&&T&&A&&(_(Object(B.J)(A,T._id)),_(Object(B.S)(A,T._id)),_(Object(B.bb)(A,T._id)),_(Object(B.P)(A,T._id)))}),[L]);var ie=function(e){if(T&&L&&L.map.map){var t=L.map.find((function(t){return t.sensor._id===e}));console.log(t),t&&(l(t.location.z),q(Object(n.a)(Object(n.a)({},Z),{},{x:t.location.x,y:t.location.y,z:t.location.z,show:!0})))}},se=r.a.useState(!1),le=Object(i.a)(se,2),oe=le[0],ue=le[1],me=r.a.useState(null),de=Object(i.a)(me,2),he=de[0],fe=de[1];return r.a.useEffect((function(){oe&&!U&&null==F&&Z.show&&(q(Object(n.a)(Object(n.a)({},Z),{},{show:!1})),he&&(_(he),fe(null)),ue(!1))}),[U,F,oe,Z.show]),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{className:"page-title align-items-center"},r.a.createElement(m.a,{xs:12},r.a.createElement("h4",{className:"mb-1 mt-0"},"Qu\u1ea3n l\xfd m\u1ea1ng c\u1ea3m bi\u1ebfn"))),r.a.createElement(u.a,null,r.a.createElement(m.a,{xs:12},r.a.createElement(d.a,{className:"mb-3"},r.a.createElement(h.a,null,r.a.createElement(J,{d:T&&T.sensorDensity,z:s,config:Z,toggle:function(){q(Object(n.a)(Object(n.a)({},Z),{},{show:!Z.show}))},sensors:I&&I.datas?I.datas:[],structure:L&&L.map.map?L.map:[],setSubmitting:function(e){ue(e)},loading:U,setBackAction:fe}),r.a.createElement("div",null,r.a.createElement(f.a,{className:"nav nav-pills navtab-bg nav-justified"},[{id:"1",title:"S\u01a1 \u0111\u1ed3 3D",disabled:!1},{id:"2",title:"S\u01a1 \u0111\u1ed3 l\u1edbp",disabled:!1}].map((function(e,t){return r.a.createElement(p.a,{key:t},r.a.createElement(g.a,{href:"#",disabled:e.disabled,className:w()({active:G===e.id}),onClick:function(){!function(e){G!==e&&H(e)}(e.id)}},r.a.createElement("i",{className:w()(e.icon,"d-sm-none","d-block","mr-1")}),e.title))}))),r.a.createElement(b.a,{activeTab:G,className:"px-3 mt-2"},r.a.createElement(y.a,{tabId:"1"},r.a.createElement("div",{style:{width:"inherit",height:"450px"}},T&&r.a.createElement(ne,{config:T,data:D&&D.datas?D.datas:[]}))),r.a.createElement(y.a,{tabId:"2"},r.a.createElement("div",{style:{width:"inherit",height:450},className:"p-3"},r.a.createElement(K,{data:O,onClick:function(e,t,a,i){q(Object(n.a)(Object(n.a)({},Z),{},{x:e,y:t,show:!0}))}})),r.a.createElement(ce,{min:0,max:ee,value:s,onChange:l})))))))),r.a.createElement(u.a,null,r.a.createElement(m.a,{xs:12},r.a.createElement(d.a,{className:"mb-5"},r.a.createElement(h.a,null,r.a.createElement(u.a,{className:"mb-2"},r.a.createElement(m.a,{sm:3},r.a.createElement("h5",null,"Danh s\xe1ch c\u1ea3m bi\u1ebfn")),r.a.createElement(m.a,{sm:9},r.a.createElement("div",{className:"float-sm-right mt-3 mt-sm-0"},r.a.createElement(E.a,{className:"d-inline-block"},r.a.createElement(v.a,{tag:"button",className:"btn btn-secondary btn-sm dropdown-toggle"},r.a.createElement("i",{className:"uil uil-filter"})," "+ae[R]),r.a.createElement(x.a,{right:!0},r.a.createElement(N.a,{onClick:function(){return M("ALL")}},ae.ALL),r.a.createElement(N.a,{onClick:function(){return M("RUNNING")},className:"text-success"},ae.RUNNING),r.a.createElement(N.a,{onClick:function(){return M("OFF")},className:"text-warning"},ae.USSING),r.a.createElement(N.a,{onClick:function(){return M("ON")},className:"text-primary"},ae.ON),r.a.createElement(N.a,{onClick:function(){return M("OFF")},className:"text-danger"},ae.OFF)))))),null!=I&&null!=I.datas&&I.datas.map((function(e,t){if("ALL"===R||e.status===R)return r.a.createElement(j,{EditInfoSensor:ie,id:e._id,value:e.value,name:e.name,status:ae[e.status],key:t})})))))))}}}]);
//# sourceMappingURL=20.2fa11ba7.chunk.js.map